<template>
    <layoutDefault>
        <div class="text-center mb-5">
            <svg width="119" height="111" viewBox="0 0 119 111" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <rect width="119" height="111" fill="url(#pattern0)"/>
                <defs>
                    <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                        <use xlink:href="#image0_2_75" transform="matrix(0.00195312 0 0 0.00209389 0 -0.036036)"/>
                    </pattern>
                    <image id="image0_2_75" width="512" height="512" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADEJJREFUeJzt3E2LHWYdh+HnzEwyaZumLzalFiwiKhUXgrqSdiEoggvdFbdu7MKl++LWjStR9Bu4FFQQFy3qRsQKbqoggrbpS1LatHaa15njQtDS1raZSc4z59zX9QWe/8Ahc/9yQha/+PlflwNIeu7ZN2efAEyyNfsAAGD1BAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAEDQzuwDZrp69WBcfPXS7DNgiuVyOc6f35t9Bkxz9923jZMnu78Guz/5GOPiq5fGb3/z3OwzYJpz5y7MPgGmeeTRT4z7779z9hnT+AoAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQNDO7ANYf/d87vVx+mNvrvzdV/54Zuz9/faVv/t2D3z1wjhxx/7K333hl2fH9b3tlb/7Vgd3Xht733h25e8uXj8xTv/0Iyt/9+2uPfyvcfnRCyt/98QzZ8ap39238nfZLAKAIzvzqTfGfY9cXPm7l1/cPRYBcPYLF8fJ+66t/N3zT947PQCWd+yPva89v/J3t1/aPRYBcP2je1N+/tt2DwQAR+YrAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAATtzD4ADuvBr58fD3zl5dlnjJP3XJ99AsANEwCsrZ3T+2Oc3p99BsBa8hUAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABA0M6LL1y6NMa4bfYhM1y8eHX2CQBM8uor18bBwZXZZ8yxHG/uXL++TP7yH2OM/f3l7BMAmGR//2DsXz+YfcYst/sKAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIGhn9gFwWOd+dv949Q9nZp8xPvmdf4yT91ybfQbADREArK39N7bHlZdPzj5jjP3ZBwDcOF8BAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIMh/BARwSKeePDt2f/+hlb+7uGq7cXQCAOCQFle2x+LK9uwz4FBkJAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAICgndkHAKyr5e7BODh9beXvbl3eHos9f3xzND5BAId0+Yvnx2vf/tvK373tVw+Mu37w8ZW/y2bxFQAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIGhn9gEA62pxeXtsvXJy5e9uveGPbo7Op4gju3rxxLj8/O7K372+t73yN9/N5Zd2x8HV1f9l2sH+YuVvvsP1rbHzz9tX/uz2y6v/vL2bU0+dHaeeOjv7DDiUxY9/9Kfl7CNmee21y+Mvz1yYfQZMc+6czz9dDz/80LjrrjtmnzGNfwMAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIGhn9gEz7e7ujA8/eGb2GTDFcrkcy4OD2WfANLunTsw+Yap0AJw6tTMeeuiu2WfANDvbu7NPACbxFQAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAoJ3Fcvnl2UfMslwsPjvG+N7sO5qWTy8X29/dOti/NPuSqsXWYrG1WCxn3wHMsZh9wEw/+eHTX1ouFr+efUfMtcVi+f2779194rHHPn119jEAVTuzDyDlz2Nr65vfevwzT88+BKBOALAKVj/AMSMAuNWsfoBjSABwq1j9AMeYAOBWsPoBjjkBwM1k9QOsCQHAzWL1A6wRAcBRWf0Aa0gAcBRWP8CaEgAchtUPsOYEADfK6gfYAAKAD8rqB9ggAoAPwuoH2DACgPdi9QNsKAHA/2P1A2wwAcDbWf0AAQKAt7L6ASIEAGNY/QA5AgCrHyBIAHRZ/QBhAqDJ6geIEwAtVj8AYwwBUGL1A/BfAmDzWf0AvIMA2GxWPwDvSgBsJqsfgPckADaP1Q/A+xIAm8PqB+ADEwCbweoH4IYIgPVm9QNwKAJgfVn9AByaAFg/Vj8ARyYA1ovVD8BNIQDWg9UPwE0lAI4/qx+Am04AHF9WPwC3jAA4nqx+AG4pAXC8WP0ArIQAOD6sfgBWRgDMZ/UDsHICYC6rH4ApBMAcVj8AUwmA1bP6AZhOAKyO1Q/AsSEAVsPqB+BYEQC3ltUPwLEkAG4dqx+AY0sA3HxWPwDHngC4uax+ANaCALg5rH4A1ooAODqrH4C1IwAOz+oHYG0JgMOx+gFYawLgxlj9AGwEAfDBWf0AbAwB8P6sfgA2jgB4b1Y/ABtJALw7qx+AjSYA3snqB2DjCYD/sfoByBAA/2H1A5CyNfuAmQ62xtUxlk+Mrf3PP+6XPwAh/wZ/278L0vCzMAAAAABJRU5ErkJggg=="/>
                </defs>
            </svg>
        </div>
        <p class="h3 mb-3">
            <b>¿Cómo te va?,</b> te pediremos datos básicos para completar tu registro.
        </p>
        <Alerts :type="alerts.type" :message="alerts.message" :list="alerts.list"></Alerts>
        <div class="">
            <form class="row" v-on:submit.prevent="login">
                <div class="col-12 mb-3">
                    <label>Nombre de usuario</label>
                    <input class="form-control" v-model="username" type="text">
                </div>
                <div class="col-12 mb-3">
                    <label>Correo electrónico</label>
                    <input class="form-control" v-model="email" type="text">
                </div>
                <div class="col-12 mb-3">
                    <label>Contraseña</label>
                    <input class="form-control" v-model="password" type="password">
                </div>
                <div class="col-12 mb-3">
                    <button type="submit" class="btn btn-blue w-100">Registrarme</button>
                </div>
            </form>
        </div>
        <div class="text-center">
            <router-link :to="{name:'login'}">Iniciar Sesión</router-link>
        </div>
    </layoutDefault>
</template>

<script>
    import Alerts from "@/components/Alerts.vue";
    import layoutDefault from "@/layouts/Default.vue";
    import auth from "@/store/auth"
    export default {
        name: 'LoginView',
        components: {
            layoutDefault,
            Alerts
        },
        data:function(){
            return {
                username:'',
                email:'',
                password:'',
                alerts:[]
            }
        },
        methods:{
            login(){
                auth.authRegister(this.username,this.email,this.password).then(response=>{
                    console.log(response)
                    if (response.success==false){
                        this.alerts.type='errors';
                        this.alerts.list=response.errors;
                    }
                    if (response.success==true){
                        this.alerts.type='success';
                        this.alerts.message='Su cuenta fue creada con exito';
                        this.username='';
                        this.email='';
                        this.password='';
                    }
                }).catch(error=>{
                    console.error(error);
                })
            }
        }
    }
</script>
